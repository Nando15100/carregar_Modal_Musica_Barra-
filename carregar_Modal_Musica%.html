<!DOCTYPE html>
<!-- ESSA PARTE NÃO COPIAR
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin - Encontre Esperança</title>
  <link rel="stylesheet" href="buscar_Comum.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;600&display=swap" rel="stylesheet"> -->

  <style>
    /* CSS - Modal de carregamento - ESSA PARTE COPIAR */
    #modal-carregando {
      display: none; /* oculto por padrão */
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.85);
      color: white;
      font-family: 'Inter', sans-serif;
      font-size: 24px;
      font-weight: bold;
      z-index: 9999;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    .progress-bar-container {
      width: 80%;
      background-color: #444;
      border-radius: 10px;
      overflow: hidden;
      margin-top: 20px;
      height: 25px;
    }

    .progress-bar {
      height: 100%;
      width: 0%;
      background-color: #00ff99;
      transition: width 0.3s ease;
    }
  </style>
</head>
<body>
  <!-- ESSA PARTE NÃO COPIAR
  <div class="container">
    <header>
      <h1>Área do Visitante</h1>
      <p>Realize suas buscas por desaparecidos nesta plataforma</p>
    </header>  

    <div class="saudacao">
      <span id="admin-nome"></span>
      <button onclick="logout()" class="btn logout">Sair</button>
    </div>  -->
  
   <!-- ESSA PARTE COPIAR -->
    <main>
      <div class="button-container">
        <br><br>
        <a href="#" onclick="iniciarCarregamento()" class="btn login">
          <span class="btn-icon">👤</span> Busca - Reconhecimento Facial
        </a>
      </div>
    </main>
  </div>

  <!-- ESSA PARTE NÃO COPIAR

  <footer>
    Copyright © Fernando - TCC CIÊNCIA DA COMPUTAÇÃO - UNILASALLE
  </footer>  -->

  <!-- Modal de carregamento - ESSA PARTE COPIAR -->
  <div id="modal-carregando">
    <p id="carregando-texto">Carregando... 0%</p>
    <div class="progress-bar-container">
      <div id="progress-bar" class="progress-bar"></div>
    </div>
  </div>

  <!-- Áudio (não tocar automaticamente!) -->
  <audio id="guitarra" src="Guns.mp3" preload="auto"></audio>

  <script>

    /* ESSA PARTE NÃO COPIAR
    function logout() {
      const confirmar = confirm('Deseja realmente sair?');
      if (confirmar) {
        window.location.href = '../inicio/telaInicial.html';
      }
    }   */

    //ESSA PARTE COPIAR

    function iniciarCarregamento() {
      const modal = document.getElementById("modal-carregando");
      const texto = document.getElementById("carregando-texto");
      const barra = document.getElementById("progress-bar");
      const som = document.getElementById("guitarra");

      let porcentagens = [25, 50, 75, 100];
      let etapa = 0;

      const totalTempo = 17000; // 17 segundos
      const tempoPorEtapa = totalTempo / porcentagens.length;

      // Mostrar o modal e iniciar o carregamento
      modal.style.display = "flex";
      som.currentTime = 0;
      som.play();

      const intervalo = setInterval(() => {
        let porcentagem = porcentagens[etapa];
        texto.textContent = `Carregando... ${porcentagem}%`;
        barra.style.width = `${porcentagem}%`;
        etapa++;

        if (etapa >= porcentagens.length) {
          clearInterval(intervalo);
          setTimeout(() => {
            window.location.href = "http://localhost:3000/reconhecimento_Inicio/reconhecimento_Inicio.html#/"; // Redirecionar após carregamento
          }, 500);
        }
      }, tempoPorEtapa);
    }
  </script>
</body>
</html>
